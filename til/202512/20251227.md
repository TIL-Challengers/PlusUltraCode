### L3 라우팅 알고리즘

- 라우팅이란 ? ip기반 prefix를 기준으로 다음 라우터로 전달하는 과정 이러한 과정들이 반복되어 목적지 ip 가 있는 곳 까지 간다.
라우팅알고리즘을 수행하는 라우터에는 라우팅 테이블이 있다.
라우팅 테이블에는 라우트라는 하나 하나의 라우팅을 하기 위한 매핑 주소가 담겨 있다.
라우팅을 관리하기 위한 하나의컨트롤러가 있다. 이놈이 학습 시키고 명령을 내리고 포워딩 과정은 각각 라우터 물리장치가 해낸다.

- 정적라우팅 vs 동적라우팅
정적라우팅은 말 그대로 작은 네트워크 규모 즉 변경이 적고 관리가 용이한 작은 네트워크에서 사람이 직접 라우팅 경로를 등록하는 방법이다.
동적 라우팅은 변경이 잦고 규모가 큰 라우팅을 학습하여 알고리즘을 이용해 경로를 라우팅하는 방식이다.
동적 라우팅에는 크게 2가지 알고리즘 분류가 가능핟.
1. IGP (interial GateWay Protocol)
내부 회사망이나 AS 에서 쓰는 알고리즘으로 대표적으로 RIP, OSPF 가 있다.
RIP은 모든 경로들을 계산한 뒤 인접 라우터에게 전달하는 방식으로 작동한다. 거리벡터
변경이 잦으면 매번 새로 계산해야 되는 문제가 발생한다.
OSPF 는 각 라우탁 모든 경로들을 가지고 있어서 계산하는 방식을 택한다.  링크 상태
 각자가 모든 경로를 가지고 있기 때뭉네 관리가 다소 어렵다.
3. EGP (External Gateway Protocol)
BGP -> 어떤 as들을 거쳐왔는지 알려준다 -> 경로 벡터

#### NAT/PAT 
- NAT이 뭐야? 로컬 네트워크 사설 IP를 외부 공인 IP로 변환해주는 장치다.
왜 필요해? IPV4의 갯수 한계 때문에.. 만약 내부 네트워크 에서 외부 로 통신하려고 할때 패킷이 내부에서 외부로 나가게 된다.
이때 NAT에서는 NAT 테이블에 정보를 가져온 뒤 사설->공인 IP로 변환한 뒤 통신을 진행한다.

PAT은 뭐야? PORT까지 변환해주는 현대 기술. 현재는 모두 PAT이라고 생각하면 된다.


### ICMP
- L3레벨 단에서 대상 라우터가 살아잇는지 아닌지 확인하는 프로토콜이다.
  tcp, udp 연결이 필요 없어서 빠르다는 장점이 있다.
rtt정보를 알 수 있고, PMTUD 정보 그리고 TTL기반으로 패킷 처리등을 수행할 수 있다.
PMTUD 가뭘가?  PATH MTU DISCOVERY 라는 뜻으로 다음 라우터가 해당 데이터가 너무 클 경우 파편화를 안하고 이전 라우터에게 패킷 실패를 줘서 좀 더 작게 보내라는 신호를 주는거다.

